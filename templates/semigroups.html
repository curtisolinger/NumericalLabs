{% extends "base.html" %}
{% from 'bootstrap5/form.html' import render_form %}
{% block title %}Semigroups{% endblock %}


{% block content %}

<div class="container">
    <div class="col-lg-2"></div>
    <div class="col-lg-8 mx-auto">
        <div class="container text-center my-4">
            <div class="row">
                <div class="col h3">Numerical Semigroup Invariants and the
                    Second Frobenius Number</div>
            </div>
        </div>
        <p>
            Imagine in the country you live, the currency is only made up of
            3 and 5 cent coins. Ignoring the question of why your country
            has only these two denominations, you might run into the
            situation of trying to get change for an 8 cent candybar if you
            only have two 5 cent coins. You would give the store clerk 10
            cents, but could they give you back 2 cents? In this
            system, no.
        </p>
        <p>
            Thinking about this another way you may ask, what is the greatest
            monetary amount that <em>cannot</em> be obtained from any
            combination of these coins?
        </p>
        <p>
            This is an example of the Frobenius Coin Problem and the answer
            to the above question is called the Frobenius Number,
            named after Ferdinand Georg Frobenius. He was a German
            mathematician born February 14, 1877, in a suburb of Berlin.
            <img src="{{ url_for('static', filename='img/frobenius.jpg') }}"
                 class="rounded float-start mx-2 my-2" width="125"
                 alt="Ferdinand Georg Frobenius">
            Frobenius worked on diverse fields such as elliptic functions,
            differential equations, number theory, and group theory and
            taught at the University of Berlin and the ETH Zurich.
        </p>
        <p>
            Returning to our coins, if there are only two denominations of
            coins \(x\) and \(y\), the Frobenius Number is given by the
            equation \(xy - x - y \). For three or more coin systems, there
            is no explicit answer nor are there any fast and efficient
            computational algorithms for computing the answer.
        </p>
<!--        <p>-->
<!--            In mathematics, asking a relatively simple questions can-->
<!--            sometimes lead to rich  discoveries encompassing a diverse set-->
<!--            of fields and produce some new mathematics along the way.-->
<!--        </p>-->
        <p>
            In whatever number of coins your country has for denominations,
            and number of monetary values can be produced by repeatedly
            adding these coins together. If you take all possible values of
            coins, then you get a mathematical object called a <em>numerical
            semigroup</em>.
        </p>
        <p>
            In this article we will investigate elements of numerical
            semigroups and their associated factorization lengths. Or
            rather, the number of coins of each denomination it takes to add
            up to a particular value.
        </p>
        <p>
            So in our country with only 3 and 5 cent coins, the value of 15
            cents has a factorization length of three and five since three
            times 5 cents equals 15 cents, as does five times 3 cents.
        </p>
        <p>
            In terms of numerical semigroups, the denominations in your
            country's currency system are called generators since repeatedly
            adding them together (including repetitions) in any combination
            "generates" all the other possible values of money.
        </p>
        <p>
            If your generators are 3 and 5, repeated adding of these numbers
            we result in the following first ten terms:
            <div class="container text-center my-2">
                <div class="row">
                    <div class="col-sm-3"></div>
                    <div class="col-sm-6">
                        {% for num in example_0 %}
                            {{ num }},
                        {% endfor %}...
                    </div>
                    <div class="col-sm-3"></div>
                </div>
            </div>
            Every number except for 1, 2, 4, and 7 is in this list.
        </p>
        <p id="gen1">
            Using mathematical notation we would write this set as
            \[
                \langle 3, 5 \rangle = \{3, 5, 6, 8, 9, 10, \ldots \}
            \]
            where \( \langle 3, 5 \rangle\) denotes the set generated by 3 and 5.
        </p>

<!--        <p id="gen1">-->
<!--            There are many mathematical numbers and objects named after him but-->
<!--            this one in particular will help motivate our study of numerical-->
<!--            semigroups and lay the groundwork for the introduction of "The-->
<!--            Second Frobenius Number", named by Joseph Gubeladze and Curtis-->
<!--            Olinger in their paper "Associated Graded Rings for Numerical Monoid-->
<!--            Rings" published 2022.-->
<!--        </p>-->
        <p>
            To get a feeling for the numbers generated by a set of generators,
            try entering in your own generators and see which numbers they
            produce (please limit the number of generators to
            as most three).
        </p>
        <div class="container">
            <div class="row my-4">
                <div class="col-3">
                    <form action="{{ url_for('semigroups', _anchor='gen1') }}"
                          method="POST">
                        {{ form1.csrf_token }}
                        {{ form1.generators1.label(class="form-label") }}
                        {{ form1.generators1(class="form-control",
                        value=session['gen1'])  }}
                        {{ form1.submit(class="btn btn-primary") }}
                    </form>
                </div>
                <div class="col-9 row align-items-center">
                    {% for num in example_1 %}
                        {{ num }},
                    {% endfor %}...
                </div>
            </div>
        </div>

        <p>
            Depending on which generators you entered, you may have noticed
            the set of numbers created contains all consecutive integers after
            some number. For example, the generating set of 2 and 3 is a
            set of consecutive integers starting at 2. Whereas the
            generating set of 3 and 5 doesn't start increasing by one until the
            number 8. From 8 on, all positive integers are included in this
            set. So, the number of elements <em>not</em> in this set is finite.
            Mathematically we would write,
            \[
                \mathbb{Z^+} \setminus \langle 5, 7 \rangle = \{ 1, 2, 4, 7 \}
            \]
            where \( \mathbb{Z}^+ \) is the set of positive integers. We
            would say
            the complement of the set generated by 3 and 5 within the set of
            positive integers equals 1, 2, 4, and 7.
        </p>
        <p>
            Furthermore, there are generators that never produce a
            set of consecutive integers. Therefore, their complement in
            the set of positive integers is infinite (meaning there is an
            infinite number of integers in this set).
        </p>
        <p>
            For example, consider the set generated by 2 which is the set of all
            positive even integers. All the odd integers are missing from this
            set.
        </p>
        <p>
            In fact, for a set of integers to be generated that does not have
            any "gaps" (i.e. has a finite complement in the positive integers),
            all one needs is for the generators themselves to be coprime, that
            is for the greatest common divisor of the generators to be 1.
        </p>
        <p>
            This leads us to an important definition.
        </p>
        <p>
            A <em>Numerical Semigroup</em> is a subset of the nonnegative
            integers with addition as the binary operations (meaning you can
            add numbers and the result will be in this set) and a finite
            complement with all the positive integers. The set generated
            by 2 and 3 and the set generated by 3 and 5 are both numerical
            semigroups. If 0 is in the numerical semigroup, it is then
            called a <em>numerical monoid</em>.
        </p>
        <p>
            Numerical Semigroups are the main field of study for this article
            and while they might seem simple, there is a great deal to discover
            about them. To get started, we will lay out some definitions
            that will allow us to examine numbers, called invariants, that
            capture information about the structure of the semigroups.
        </p>
        <p>
            Let \( m_1, \ldots, m_n \) be a set of generators for the
            numerical monoid \( M \). Then, for any monoid element \(m \),
            the <em>set of factorizations of \(m \in M \)</em> is
            \[
                \mathsf{Z}(m) = \left \{ (a_1, \ldots, a_k) \mid m =
            \sum_{i=1}^{k} a_im_i \right \}
            \]
            and the <em>set of factorization lengths of \(m \in M\)</em> to be
            \[
                \mathsf{L}(m) = \left\{\sum_{i = 1}^{k} a_i : (a_1, \ldots,
            a_k) \in \mathsf{Z}(m)\right\}.
            \]
        </p>
        <p>
            For example, in the monoid generated by 2 and 3, the element 6
            has the following two factorizations (3, 0) and (0, 2) since
            \[
                (3, 0) \cdot (2, 3) = 3 \times 2 + 0 \times 3 = 6
            \]
            and
            \[
                (0, 2) \cdot (2, 3) = 0 \times 2 + 2 \times 3 = 6
            \]
            where \( \cdot \) is the dot product operation from linear
            algebra. Thus
            \[
                \mathsf{Z}(6) = \left \{ (3, 0), (0, 2) \right \}.
            \]
            The element 6 then has the set of factorization lengths of
            \[
                \mathsf{L}(m) = \{ 3, 2 \}
            \]
            and it has a <em>maximum factorization length</em> 3 and a
            <em>minimum factorization length</em> of 2. In the following
            form, you can enter some generators and examine particular
            semigroup elements to see the set of factorization and
            factorization lengths along with the max length and min length
            for the element.
        </p>

        <!--Single element invariant chart-->
        <div class="container" id="gen3">
            <div class="row">
                <div class="col-sm-4">
                    <form action="{{ url_for('semigroups', _anchor='gen3') }}"
                          method="POST">
                        {{ form3.csrf_token }}
                        {{ form3.generators3.label(class="form-label") }}
                        {{ form3.generators3(class="form-control",
                            value=session['gen3']) }}
                        {{ form3.single_element.label(class="form-label") }}
                        {{ form3.single_element(class="form-control",
                        value=session['single_element']) }}
                        {{ form3.submit(class="btn btn-primary") }}
                    </form>
                </div>
                <div class="col-sm-8">
                    <table class="table table-striped px-4">
                        <thead>
                            <tr>
                                <th scope="col">Set of factorizations</th>
                                <th scope="col">Max factorization length</th>
                                <th scope="col">Min factorization length</th>
                            </tr>
                        </thead>
                        <tbody class="table-group-divider">
                            <tr>
                                <td>
                                    {% for item in list[0] %}
                                        {{ item }}
                                        {% if not loop.last %},{% endif %}
                                    {% endfor %}
                                </td>
                                <td>{{ list[1] }}</td>
                                <td>{{ list[2] }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <p>
            A question I was interested in regarding these max factorization
            lengths is for any max factorization length k, how many monoid
            elements have that max factorization length?
        </p>
        <p>
            For example in the monid generated by 2 and 3, 6 has a max
            factorization length of 3 but so does 5. By looking at the max
            factorization lengths for the nearby elements, it is the case
            that there are only two elements that have a max factorization
            length of 2.
        </p>

        <!--Form and graph-->
        <div class="container my-5" id="gen2">
            <div class="row">
                <div class="col-sm-4">
                    <form action="{{ url_for('semigroups', _anchor='gen2') }}"
                          method="POST">
                        {{ form2.csrf_token }}
                        {{ form2.generators2.label(class="form-label") }}
                        {{ form2.generators2(class="form-control",
                        value=session['gen2']) }}
                        <br/>
                        {{ form2.submit(class="btn btn-primary") }}
                    </form>
                </div>
                <div class="col-sm-8">
                    <div id="chart"
                         class="embed-responsive embed-responsive-16by9"></div>
                </div>
            </div>
        </div>

        <!--Invariant table-->
        <table class="table table-striped px-4">
            <thead>
            <tr>
                <th scope="col">Semigroup element</th>
                <th scope="col">Factorization</th>
                <th scope="col"class="text-center">Max factorization length</th>
                <th scope="col" class="text-center">Min factorization length</th>
                <th scope="col" class="text-center">Elasticity</th>
            </tr>
            </thead>
            <tbody class="table-group-divider">
                {% for key, value in invariant_dict.items() %}
                    <tr>
                        <th scope="row">{{ key }}</th>
                        <td>
                            {% for item in value[0] %}
                                {{ item }}
                                {% if not loop.last %},{% endif %}
                            {% endfor %}
                        </td>
                        <td class="text-center">{{ value[1] }}</td>
                        <td class="text-center">{{ value[2] }}</td>
                        <td class="text-center">{{ value[3] }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>


        <!--Some Latex-->
        <div class="container my-4">
            <p>
                When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and
                they are
                \[
                    x = {-b \pm \sqrt{b^2-4ac} \over 2a}.
                \]
            </p>
        </div>



    </div>
    <div class="col-lg-2"></div>
</div>





















{% endblock %}

{% block scripts %}
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <script type='text/javascript'>
        var graphs = {{ graphJSON | safe }};
        Plotly.plot('chart', graphs, {});
    </script>
    {{ super() }}
{% endblock %}
